<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ace Editor with Console - Tailwind</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
  </style>
</head>
<body class="h-screen w-screen overflow-hidden">

  <div class="flex h-full">
    <!-- Editor (80%) -->
    <div class="w-4/5 h-full">
      <div id="editor" class="h-full w-full text-white"></div>
    </div>

    <!-- Console and Run Button (20%) -->
    <div class="w-1/5 h-full bg-black flex flex-col">
      <div class="p-2 bg-gray-800 text-white text-sm font-mono">
        <button onclick="runCode()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">Run</button>
      </div>
      <div id="console" class="flex-1 overflow-y-auto text-green-400 p-3 text-sm font-mono whitespace-pre-wrap"></div>
    </div>
  </div>

  <!-- Ace Editor -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.min.js"></script>

  <script>
    const editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/javascript");
    editor.setOptions({
      fontSize: "14px",
      showPrintMargin: false,
      wrap: true,
      useWorker: false,
      enableLiveAutocompletion: true,
      enableSnippets: true,
      enableBasicAutocompletion: true
    });

    const outputConsole = document.getElementById("console");
    const originalLog = console.log;
    console.log = function(...args) {
      args.forEach(arg => {
        outputConsole.textContent += arg + '\n';
      });
      originalLog.apply(console, args);
    };

    function runCode() {
      outputConsole.textContent = ""; // Clear console
      try {
        const code = editor.getValue();
        eval(code); // ⚠️ Never use with untrusted input
      } catch (err) {
        console.log("Error:", err.message);
      }
    }

    // Optional: default code
    editor.setValue(`function hello() {
  console.log("Hello from Ace Editor!");
}
hello();`, -1);
  </script>

</body>
</html>
